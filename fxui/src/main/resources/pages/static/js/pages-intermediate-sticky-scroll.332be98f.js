(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-intermediate-sticky-scroll"],{"3a78":function(t,e,i){"use strict";i.r(e);var n=i("f8e1"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},4459:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".demo-tip[data-v-fbe4df16]{padding:%?18?%;font-size:%?24?%;text-align:center}",""]),t.exports=e},5605:function(t,e,i){"use strict";i.r(e);var n=i("8fc1"),a=i("3a78");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("ecd6");var s,c=i("f0c5"),l=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"fbe4df16",null,!1,n["a"],s);e["default"]=l.exports},"8fc1":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={meTabs:i("1db9").default,mescrollBody:i("0ead").default,goodList:i("2f9d").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[t.isShowSticky?i("me-tabs",{attrs:{fixed:!0,tabs:t.tabs},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.tabChange.apply(void 0,arguments)}},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}}):t._e(),i("mescroll-body",{ref:"mescrollRef",attrs:{up:t.upOption},on:{init:function(e){arguments[0]=e=t.$handleEvent(e),t.mescrollInit.apply(void 0,arguments)},down:function(e){arguments[0]=e=t.$handleEvent(e),t.downCallback.apply(void 0,arguments)},up:function(e){arguments[0]=e=t.$handleEvent(e),t.upCallback.apply(void 0,arguments)},scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.scroll.apply(void 0,arguments)},topclick:function(e){arguments[0]=e=t.$handleEvent(e),t.topClick.apply(void 0,arguments)}}},[i("v-uni-swiper",{staticStyle:{"min-height":"300rpx"},attrs:{autoplay:"true",interval:"3000",duration:"300",circular:"true"}},[i("v-uni-swiper-item",[i("v-uni-image",{staticStyle:{width:"100%",height:"auto"},attrs:{src:"https://www.mescroll.com/img/swiper1.jpg",mode:"widthFix"}})],1),i("v-uni-swiper-item",[i("v-uni-image",{staticStyle:{width:"100%",height:"auto"},attrs:{src:"https://www.mescroll.com/img/swiper2.jpg",mode:"widthFix"}})],1)],1),i("v-uni-view",{staticClass:"demo-tip"},[i("v-uni-view",[t._v("每次切换菜单都刷新列表数据")]),i("v-uni-view",[t._v("吸顶通过监听滚动条实现, 比sticky复杂, 但APP端可兼容低端机")])],1),i("v-uni-view",{attrs:{id:"tabInList"}},[i("me-tabs",{attrs:{tabs:t.tabs},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.tabChange.apply(void 0,arguments)}},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}})],1),i("good-list",{attrs:{list:t.goods}})],1)],1)},o=[]},aecd:function(t,e,i){var n=i("4459");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("ba45e42a",n,!0,{sourceMap:!1,shadowMode:!1})},ecd6:function(t,e,i){"use strict";var n=i("aecd"),a=i.n(n);a.a},f8e1:function(t,e,i){"use strict";(function(t){var n=i("4ea4");i("99af"),i("ac1f"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("fabb")),o=i("d63f"),s={mixins:[a.default],data:function(){return{goods:[],upOption:{},tabs:[{name:"全部",type:"xx"},{name:"奶粉",type:"xx"},{name:"图书",type:"xx"}],tabIndex:0,navTop:null,isShowSticky:!1}},methods:{downCallback:function(){this.mescroll.resetUpScroll()},upCallback:function(t){var e=this;this.isChangeTab&&(this.mescroll.hideUpScroll(),uni.showLoading());var i=this.tabs[this.tabIndex],n=i.name;(0,o.apiGoods)(t.num,t.size,n).then((function(i){1==t.num&&(e.goods=[]),e.goods=e.goods.concat(i.list),setTimeout((function(){e.mescroll.endSuccess(i.list.length),e.navTop||e.setNavTop(),e.isChangeTab&&(e.isChangeTab=!1,uni.hideLoading(),e.isShowSticky&&e.mescroll.scrollTo(e.navTop,0))}),20)})).catch((function(){e.mescroll.endErr()}))},setNavTop:function(){var e=this,i=uni.createSelectorQuery().select("#tabInList");i.boundingClientRect((function(i){t("log","tabInList基本信息 = "+JSON.stringify(i)," at pages/intermediate/sticky-scroll.vue:100"),e.navTop=i.top})).exec()},scroll:function(){t("log","滚动条位置 = "+this.mescroll.getScrollTop()+", navTop = "+this.navTop," at pages/intermediate/sticky-scroll.vue:107"),this.mescroll.getScrollTop()>=this.navTop?this.isShowSticky=!0:this.isShowSticky=!1},topClick:function(){this.isShowSticky=!1},tabChange:function(){this.isChangeTab=!0,this.mescroll.resetUpScroll()}},onPageScroll:function(e){t("log","滚动条位置 = "+e.scrollTop+", navTop = "+this.navTop," at pages/intermediate/sticky-scroll.vue:127"),e.scrollTop>=this.navTop?this.isShowSticky=!0:this.isShowSticky=!1}};e.default=s}).call(this,i("0de9")["log"])}}]);