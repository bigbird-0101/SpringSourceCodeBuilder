(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-intermediate-mescroll-swiper-sticky"],{"01cc":function(t,e,n){"use strict";n.r(e);var i=n("c31f"),o=n("27a0");for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);var l,s=n("f0c5"),a=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],l);e["default"]=a.exports},"048c":function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{i:Number,index:{type:Number,default:function(){return 0}}},data:function(){return{downOption:{auto:!1},upOption:{auto:!1},isInit:!1}},watch:{index:function(t){this.i!==t||this.isInit||this.mescrollTrigger()}},methods:{mescrollInitByRef:function(){if(!this.mescroll||!this.mescroll.resetUpScroll){var t=this.$refs.mescrollRef||this.$refs["mescrollRef"+this.i];t&&(this.mescroll=t.mescroll)}},mescrollInit:function(t){this.mescroll=t,this.mescrollInitByRef&&this.mescrollInitByRef(),this.i===this.index&&this.mescrollTrigger()},mescrollTrigger:function(){this.isInit=!0,this.mescroll&&(this.mescroll.optDown.use?this.mescroll.triggerDownScroll():this.mescroll.triggerUpScroll())}}},o=i;e.default=o},"107e":function(t,e,n){"use strict";var i=n("7eab"),o=n.n(i);o.a},"27a0":function(t,e,n){"use strict";n.r(e);var i=n("364b"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=o.a},"364b":function(t,e,n){"use strict";var i=n("4ea4");n("99af"),n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("fabb")),r=i(n("048c")),l=n("d63f"),s={mixins:[o.default,r.default],data:function(){return{downOption:{use:!1},upOption:{auto:!1,noMoreSize:4,empty:{tip:"~ 空空如也 ~",btnText:"去看看"}},goods:[]}},props:{i:Number,index:{type:Number,default:function(){return 0}},tabs:{type:Array,default:function(){return[]}},height:[Number,String],disableScroll:Boolean},methods:{upCallback:function(t){var e=this,n=this.tabs[this.i].name;(0,l.apiGoods)(t.num,t.size,n).then((function(n){e.mescroll.endSuccess(n.list.length),1==t.num&&(e.goods=[]),e.goods=e.goods.concat(n.list)})).catch((function(){e.mescroll.endErr()}))},emptyClick:function(){uni.showToast({title:"点击了按钮,具体逻辑自行实现"})}}};e.default=s},4212:function(t,e,n){"use strict";n.r(e);var i=n("60a6"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=o.a},"60a6":function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("fabb")),r=i(n("01cc")),l={mixins:[o.default],components:{MescrollItem:r.default},data:function(){return{upOption:{use:!1},topHeight:uni.upx2px(600),swiperHeight:"",tabs:[{name:"全部"},{name:"奶粉"},{name:"面膜"},{name:"图书"},{name:"果汁"},{name:"奶瓶"},{name:"美素"},{name:"花王"},{name:"韩蜜"}],tabIndex:0,disableScroll:!0}},watch:{tabIndex:function(t){var e=this;this.disableScroll&&(this.disableScroll=!1,this.$nextTick((function(){var n=e.getMescroll(t);n&&n.scrollTo(0,0),setTimeout((function(){e.disableScroll=!0}),300)})))}},onLoad:function(){this.swiperHeight=uni.getSystemInfoSync().windowHeight-uni.upx2px(64)+"px"},mounted:function(){uni.pageScrollTo({scrollTop:0,duration:0})},methods:{downCallback:function(){this.mescroll.endSuccess()},swiperChange:function(t){this.tabIndex=t.detail.current},getMescroll:function(t){var e=this.$refs.mescrollItem;if(e){var n=e[t];if(n)return n.mescroll}return null},onPageScroll:function(t){this.disableScroll=Math.ceil(t.scrollTop)<this.topHeight}}};e.default=l},"7eab":function(t,e,n){var i=n("97e1");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("7009851d",i,!0,{sourceMap:!1,shadowMode:!1})},"97e1":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/*\nsticky生效条件：\n1、父元素不能overflow:hidden或者overflow:auto属性。(mescroll-body设置:sticky="true"即可, mescroll-uni本身没有设置overflow)\n2、必须指定top、bottom、left、right4个值之一，否则只会处于相对定位\n3、父元素的高度不能低于sticky元素的高度\n4、sticky元素仅在其父元素内生效,所以父元素必须是 mescroll\n*/.sticky-tabs[data-v-228aadff]{z-index:990;position:-webkit-sticky;position:sticky;top:var(--window-top);background-color:#fff}',""]),t.exports=e},c31f:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={mescrollUni:n("902d").default,goodList:n("2f9d").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mescroll-uni",{ref:"mescrollRef"+t.i,attrs:{height:t.height,"disable-scroll":t.disableScroll,down:t.downOption,up:t.upOption},on:{init:function(e){arguments[0]=e=t.$handleEvent(e),t.mescrollInit.apply(void 0,arguments)},up:function(e){arguments[0]=e=t.$handleEvent(e),t.upCallback.apply(void 0,arguments)},emptyclick:function(e){arguments[0]=e=t.$handleEvent(e),t.emptyClick.apply(void 0,arguments)}}},[n("good-list",{attrs:{list:t.goods}})],1)},r=[]},e607:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={mescrollBody:n("0ead").default,meTabs:n("1db9").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("mescroll-body",{ref:"mescrollRef",attrs:{sticky:!0,up:t.upOption},on:{init:function(e){arguments[0]=e=t.$handleEvent(e),t.mescrollInit.apply(void 0,arguments)},down:function(e){arguments[0]=e=t.$handleEvent(e),t.downCallback.apply(void 0,arguments)}}},[n("v-uni-view",{style:{height:t.topHeight+"px",overflow:"hidden"}},[n("v-uni-image",{staticStyle:{width:"100%",height:"340rpx"},attrs:{src:"https://www.mescroll.com/img/swiper1.jpg"}}),n("v-uni-image",{staticStyle:{width:"100%",height:"245rpx","border-bottom":"15rpx solid #f2f2f2"},attrs:{src:"https://www.mescroll.com/img/beibei/beibei2.jpg"}})],1),n("v-uni-view",{staticClass:"sticky-tabs"},[n("me-tabs",{attrs:{tabs:t.tabs,"tab-width":130},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}})],1),n("v-uni-swiper",{style:{height:t.swiperHeight},attrs:{current:t.tabIndex},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.swiperChange.apply(void 0,arguments)}}},t._l(t.tabs,(function(e,i){return n("v-uni-swiper-item",{key:i},[n("mescroll-item",{ref:"mescrollItem",refInFor:!0,attrs:{i:i,index:t.tabIndex,tabs:t.tabs,height:t.swiperHeight,"disable-scroll":t.disableScroll}})],1)})),1)],1)],1)},r=[]},f5ae:function(t,e,n){"use strict";n.r(e);var i=n("e607"),o=n("4212");for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);n("107e");var l,s=n("f0c5"),a=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"228aadff",null,!1,i["a"],l);e["default"]=a.exports}}]);